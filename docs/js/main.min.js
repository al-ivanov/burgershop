var myMap;function init(){(myMap=new ymaps.Map("map",{center:[55.75960502,37.6267595],zoom:16,controls:[]})).behaviors.disable(["scrollZoom","rightMouseButtonMagnifier"]),myMap.events.add("dblclick",function(e){e.preventDefault()}),myPlacemark1=new ymaps.Placemark([55.75996497,37.62432405],{hintContent:"Бургеры",balloonContent:"Ресторан №1"},{iconLayout:"default#image",iconImageHref:"./img/icons/map-marker.svg",iconImageSize:[46,57],iconImageOffset:[0,-55]}),myPlacemark2=new ymaps.Placemark([55.75853725,37.62136289],{hintContent:"Бургеры",balloonContent:"Ресторан №2"},{iconLayout:"default#image",iconImageHref:"./img/icons/map-marker.svg",iconImageSize:[46,57]}),myPlacemark3=new ymaps.Placemark([55.75885184,37.6296241],{hintContent:"Бургеры",balloonContent:"Ресторан №3"},{iconLayout:"default#image",iconImageHref:"./img/icons/map-marker.svg",iconImageSize:[46,57]}),myMap.geoObjects.add(myPlacemark1),myMap.geoObjects.add(myPlacemark2),myMap.geoObjects.add(myPlacemark3)}$(document).ready(function(){$(".slide-5-menu__link").on("click",function(e){e.preventDefault();var n=$(this),a=$(".slide-5-menu__link_active");n.hasClass("slide-5-menu__link_active")?(n.removeClass("slide-5-menu__link_active"),n.next().removeClass("adjust-width_active")):(a.length&&(a.removeClass("slide-5-menu__link_active"),a.next().removeClass("adjust-width_active")),n.addClass("slide-5-menu__link_active"),n.next().addClass("adjust-width_active"))})}),$(document).ready(function(){$(".person__name").on("click",function(e){e.preventDefault();var n=$(this),a=$(".person__name.person__name_collapse");n.hasClass("person__name_collapse")?(n.removeClass("person__name_collapse"),n.next().slideUp("slow",function(){n.find(".triangel").removeClass("triangel_collapse")})):(a.removeClass("person__name_collapse"),a.next().slideUp("slow",function(){a.find(".triangel").removeClass("triangel_collapse")}),n.addClass("person__name_collapse"),n.next().slideDown("slow",function(){n.find(".triangel").addClass("triangel_collapse")}))})}),ymaps.ready(init),$(document).ready(function(){function i(e,n){a.css({display:e}),n.css({display:e})}var e=$(".slide-6-people__btn"),a=$(".modal-bg"),n=$(".modal-person"),t=$(".modal-person__right"),l=$(".slide-7__make-order"),o=$(".modal-order"),s=$(".model-order__close");e.on("click",function(e){e.preventDefault(),i("block",n)}),a.on("click",function(e){e.preventDefault(),i("none",n)}),t.on("click",function(e){e.preventDefault(),i("none",n)}),s.on("click",function(e){e.preventDefault(),i("none",o)}),l.on("click",function(e){e.preventDefault();var n=$("input[name=username]").val(),a=$("input[name=userphone]").val();$.ajax({url:"php/order.php",method:"POST",data:{name:n,phone:a},dataType:"json",success:function(e,n,a){console.log(e),e.Success?(i("block",o),$("form[name=slide-7-form-make-order]")[0].reset()):(e.name||e.phone?e.name&&!e.phone&&alert("Введите номер телефона"):alert("Введите имя и номер телефона"),!e.name&&e.phone&&alert("Введите имя"))},error:function(e,n,a){alert("ERROR")}})})}),jQuery(function(){$(".form__phone-input").mask("+7 (999) 999 99 99")}),$(document).ready(function(){function l(e,n,a,i){var t=$(".person__name"),l=$(".slide-5-menu__link"),o=$(".total-nav__link_opened"),s=100*i;e.removeClass("slide_active"),n.addClass("slide_active"),c.css({transform:"translate(0, "+(0==s?s:"-"+s+"%")+")"}),setTimeout(function(){d=!0,o.removeClass("total-nav__link_opened"),r.eq(i).addClass("total-nav__link_opened")},1500),t.removeClass("person__name_collapse"),t.find(".triangel").removeClass("triangel_collapse"),t.next().slideUp(),l.removeClass("slide-5-menu__link_active"),l.next().removeClass("adjust-width_active"),window.location.hash="#slide"+i}function e(e){var n=window.location.hash,a=o[n.slice(1)],i=$(".slide_active"),t=(c.index(i),c.eq(a));0<=a&&l(i,t,0,a)}var c=$(".slide"),r=$(".total-nav__link"),n=document.querySelector(".wrapper"),a=$(".scroll-down"),i=$(".navigation__link"),t=$(".burger__make-order"),d=!0,o={slide0:0,slide1:1,slide2:2,slide3:3,slide4:4,slide5:5,slide6:6,slide7:7};window.location.hash&&e(),window.addEventListener("hashchange",e),n.addEventListener("wheel",function(e){var n,a,i,t;d&&"slide-5-menu__content"!=e.target.className&&"slide-6-people__descr"!=e.target.className&&(d=!1,n=e.deltaY,a=$(".slide_active"),i=c.index(a),0<n&&i<c.length-1?(t=i+1,l(a,a.next(),0,t)):n<0&&0<i?(t=i-1,l(a,a.prev(),0,t)):d=!0)}),r.on("click",function(e){e.preventDefault();var n,a,i,t=$(this);!t.hasClass("total-nav__link_opened")&&d&&(d=!1,n=$(".slide_active"),c.index(n),a=r.index(t),i=c.eq(a),l(n,i,0,a))}),a.on("click",function(e){var n,a,i;e.preventDefault(),d&&(d=!1,n=$(".slide_active"),c.index(n),a=n.next(),i=c.index(a),l(n,a,0,i))}),i.on("click",function(e){e.preventDefault();var n=e.target.classList.item(1).split("__link_")[1],a=$(".slide_active"),i=(c.index(a),c.eq(n));l(a,i,0,n)}),t.on("click",function(e){e.preventDefault();var n=$(".slide_active"),a=(c.index(n),c.eq(6));l(n,a,0,6)})}),jQuery(document).ready(function(){function o(e,n,a,i){e.addClass("page_active"),n.removeClass("page_active"),a.animate({right:i},1e3,function(){c=!0})}function s(e,n,a,i){e.addClass("page_active"),n.removeClass("page_active"),a.animate({right:i},1e3,function(){c=!0})}var e=$(".slide-3__arrow-right"),n=$(".slide-3__arrow-left"),c=!0;e.on("click",function(e){e.preventDefault();var n=$(this).closest(".container").find(".container-slide-3"),a=n.find(".page_active"),i=n.find(".page"),t=a.next(),l=parseInt(a.css("right"));c&&(c=!1,t.length?o(t,a,i,l+940+"px"):s(i.first(),a,i,"0"))}),n.on("click",function(e){e.preventDefault();var n=$(this).closest(".container").find(".container-slide-3"),a=n.find(".page_active"),i=n.find(".page"),t=a.prev(),l=parseInt(a.css("right"));c&&(c=!1,t.length?o(t,a,i,l-940+"px"):s(i.last(),a,i,940*i.last().index()))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC5qcyIsImFjY29yZGlvbkhvcmlzb250YWwuanMiLCJhY2NvcmRpb25WZXJ0aWNhbC5qcyIsIm1vZGFscy5qcyIsInBob25lTWFzay5qcyIsInNjcm9sbC5qcyIsInNsaWRlci5qcyJdLCJuYW1lcyI6WyJteU1hcCIsImluaXQiLCJ5bWFwcyIsIk1hcCIsImNlbnRlciIsInpvb20iLCJjb250cm9scyIsImJlaGF2aW9ycyIsImRpc2FibGUiLCJldmVudHMiLCJhZGQiLCJlIiwicHJldmVudERlZmF1bHQiLCJteVBsYWNlbWFyazEiLCJQbGFjZW1hcmsiLCJoaW50Q29udGVudCIsImJhbGxvb25Db250ZW50IiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiaWNvbkltYWdlT2Zmc2V0IiwibXlQbGFjZW1hcmsyIiwibXlQbGFjZW1hcmszIiwiZ2VvT2JqZWN0cyIsIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwib24iLCJldmVudCIsIiR0aGlzIiwidGhpcyIsImFjdGl2ZUl0ZW0iLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwibmV4dCIsImxlbmd0aCIsImFkZENsYXNzIiwicGVyc29uIiwic2xpZGVVcCIsImZpbmQiLCJzbGlkZURvd24iLCJjaGFuZ2VEaXNwbGF5IiwiZGlzcCIsIm1vZGFsIiwiYmciLCJjc3MiLCJkaXNwbGF5IiwiYnRucyIsIm1vZGFsU2w1IiwiY2xvc2VTbDUiLCJvcmRlckJ0biIsIm1vZGFsU2w3IiwiY2xvc2VTbDciLCJuYW1lIiwidmFsIiwicGhvbmUiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YSIsImRhdGFUeXBlIiwic3VjY2VzcyIsInRleHRTdGF0dXMiLCJqcVhIUiIsImNvbnNvbGUiLCJsb2ciLCJTdWNjZXNzIiwicmVzZXQiLCJhbGVydCIsImVycm9yIiwiZXJyb3JUaHJvd24iLCJqUXVlcnkiLCJtYXNrIiwiY2hhbmdlQ3NzIiwiYWN0aXZlU2xpZGUiLCJuZXdBY3RpdmUiLCJhY3RpdmVTbGlkZUluZGV4IiwibmV3SWR4IiwiYWNjb3JkZW9uVmVydCIsImFjY29yZGVvbkhvciIsImFzaWRlTGlua0FjdGl2ZSIsInRvcFBvc2l0aW9uIiwic2xpZGVzIiwidHJhbnNmb3JtIiwic2V0VGltZW91dCIsImZsYWciLCJhc2lkZUxpbmtzIiwiZXEiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhhc2giLCJoYXNoQ2hhbmdlIiwic2xpZGVJbmRleCIsImhhc2hWYWx1ZXMiLCJzbGljZSIsImluZGV4Iiwid3JhcHBlciIsInF1ZXJ5U2VsZWN0b3IiLCJhcnJvd0Rvd24iLCJuYXZMaW5rcyIsIm9yZGVyQnVyZ2VyIiwic2xpZGUwIiwic2xpZGUxIiwic2xpZGUyIiwic2xpZGUzIiwic2xpZGU0Iiwic2xpZGU1Iiwic2xpZGU2Iiwic2xpZGU3IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRlbHRhWSIsInRhcmdldCIsImNsYXNzTmFtZSIsInByZXYiLCJuZXdBY3RpdmVJZHgiLCJpdGVtSWR4IiwiY2xhc3NMaXN0IiwiaXRlbSIsInNwbGl0IiwibmV4dEV4aXN0IiwicGFnZSIsImFjdGl2ZVBhZ2UiLCJhbGxQYWdlcyIsImV4cHJlc3Npb24iLCJhbmltYXRlIiwicmlnaHQiLCJydW4iLCJuZXh0Tm90RXhpc3QiLCJhcnJvd1JpZ2h0IiwiYXJyb3dMZWZ0IiwiY29udGFpbmVyIiwiY2xvc2VzdCIsIm5leHRQYWdlIiwiY3VycmVudFJpZ2h0IiwicGFyc2VJbnQiLCJmaXJzdCIsInByZXZQYWdlIiwibGFzdCJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBQUEsTUFFQSxTQUFBQyxRQUNBRCxNQUFBLElBQUFFLE1BQUFDLElBQUEsTUFBQSxDQUNBQyxPQUFBLENBQUEsWUFBQSxZQUNBQyxLQUFBLEdBQ0FDLFNBQUEsTUFFQUMsVUFBQUMsUUFBQSxDQUFBLGFBQUEsOEJBQ0FSLE1BQUFTLE9BQUFDLElBQUEsV0FBQSxTQUFBQyxHQUNBQSxFQUFBQyxtQkFHQUMsYUFBQSxJQUFBWCxNQUFBWSxVQUFBLENBQUEsWUFB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LEdBQUEsUUFBQSxTQUFBQyxHQUNBQSxFQUFBaEIsaUJBQ0EsSUFDQXNILEVBREExRyxFQUFBTSxNQUNBcUcsUUFBQSxjQUFBNUYsS0FBQSxzQkFDQWtGLEVBQUFTLEVBQUEzRixLQUFBLGdCQUNBbUYsRUFBQVEsRUFBQTNGLEtBQUEsU0FDQTZGLEVBQUFYLEVBQUF2RixPQUNBbUcsRUFBQUMsU0FBQWIsRUFBQTVFLElBQUEsVUFDQWlGLElBQ0FBLEdBQUEsRUFDQU0sRUFBQWpHLE9BQ0FvRixFQUFBYSxFQUFBWCxFQUFBQyxFQUFBVyxFQW5DQSxJQW1DQSxNQUVBTixFQUFBTCxFQUFBYSxRQUFBZCxFQUFBQyxFQUFBLFFBSUFPLEVBQUF0RyxHQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQWhCLGlCQUNBLElBQ0FzSCxFQURBMUcsRUFBQU0sTUFDQXFHLFFBQUEsY0FBQTVGLEtBQUEsc0JBQ0FrRixFQUFBUyxFQUFBM0YsS0FBQSxnQkFDQW1GLEVBQUFRLEVBQUEzRixLQUFBLFNBQ0FpRyxFQUFBZixFQUFBUixPQUNBb0IsRUFBQUMsU0FBQWIsRUFBQTVFLElBQUEsVUFDQWlGLElBQ0FBLEdBQUEsRUFDQVUsRUFBQXJHLE9BQ0FvRixFQUFBaUIsRUFBQWYsRUFBQUMsRUFBQVcsRUFwREEsSUFvREEsTUFFQU4sRUFBQUwsRUFBQWUsT0FBQWhCLEVBQUFDLEVBdERBLElBc0RBQSxFQUFBZSxPQUFBMUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ5bWFwcy5yZWFkeShpbml0KTtcbnZhciBteU1hcDtcblxuZnVuY3Rpb24gaW5pdCgpeyAgICAgXG4gICAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcbiAgICAgICAgY2VudGVyOiBbNTUuNzU5NjA1MDIsIDM3LjYyNjc1OTUwXSxcbiAgICAgICAgem9vbTogMTYsXG4gICAgICAgIGNvbnRyb2xzOiBbXVxuICAgIH0pO1xuICAgIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKFsnc2Nyb2xsWm9vbScsICdyaWdodE1vdXNlQnV0dG9uTWFnbmlmaWVyJ10pO1xuICAgIG15TWFwLmV2ZW50cy5hZGQoJ2RibGNsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgbXlQbGFjZW1hcmsxID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzU5OTY0OTcsIDM3LjYyNDMyNDA1XSwgeyBcbiAgICAgICAgICAgIGhpbnRDb250ZW50OiAn0JHRg9GA0LPQtdGA0YsnLCBcbiAgICAgICAgICAgIGJhbGxvb25Db250ZW50OiAn0KDQtdGB0YLQvtGA0LDQvSDihJYxJ1xuICAgICAgICB9LHtcbiAgICAgICAgXHRpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgIFx0aWNvbkltYWdlSHJlZjogJy4vaW1nL2ljb25zL21hcC1tYXJrZXIuc3ZnJyxcbiAgICAgICAgXHRpY29uSW1hZ2VTaXplOiBbNDYsIDU3XSxcbiAgICAgICAgXHRpY29uSW1hZ2VPZmZzZXQ6IFswLCAtNTVdXG4gICAgICAgIH0pO1xuICAgIG15UGxhY2VtYXJrMiA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU1Ljc1ODUzNzI1LCAzNy42MjEzNjI4OV0sIHsgXG4gICAgICAgICAgICBoaW50Q29udGVudDogJ9CR0YPRgNCz0LXRgNGLJywgXG4gICAgICAgICAgICBiYWxsb29uQ29udGVudDogJ9Cg0LXRgdGC0L7RgNCw0L0g4oSWMidcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXG4gICAgICAgIFx0aWNvbkltYWdlSHJlZjogJy4vaW1nL2ljb25zL21hcC1tYXJrZXIuc3ZnJyxcbiAgICAgICAgXHRpY29uSW1hZ2VTaXplOiBbNDYsIDU3XVxuICAgICAgICB9KTtcbiAgICBteVBsYWNlbWFyazMgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43NTg4NTE4NCwgMzcuNjI5NjI0MTBdLCB7IFxuICAgICAgICAgICAgaGludENvbnRlbnQ6ICfQkdGD0YDQs9C10YDRiycsIFxuICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnQ6ICfQoNC10YHRgtC+0YDQsNC9IOKEljMnXG4gICAgICAgIH0se1xuICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxuICAgICAgICBcdGljb25JbWFnZUhyZWY6ICcuL2ltZy9pY29ucy9tYXAtbWFya2VyLnN2ZycsXG4gICAgICAgIFx0aWNvbkltYWdlU2l6ZTogWzQ2LCA1N11cbiAgICAgICAgfSk7XG5cbiAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyazEpO1xuICAgIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrMik7XG4gICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmszKTtcbn0iLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXHR2YXIgaXRlbXMgPSAkKFwiLnNsaWRlLTUtbWVudV9fbGlua1wiKTtcblxuXHRpdGVtcy5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcblx0XHRcdGFjdGl2ZUl0ZW0gPSAkKCcuc2xpZGUtNS1tZW51X19saW5rX2FjdGl2ZScpLFxuXHRcdFx0dGhzQWN0aXZlID0gJHRoaXMuaGFzQ2xhc3MoJ3NsaWRlLTUtbWVudV9fbGlua19hY3RpdmUnKTtcblx0XHRpZiAodGhzQWN0aXZlKSB7XG5cdFx0XHQkdGhpcy5yZW1vdmVDbGFzcygnc2xpZGUtNS1tZW51X19saW5rX2FjdGl2ZScpO1xuXHRcdFx0JHRoaXMubmV4dCgpLnJlbW92ZUNsYXNzKCdhZGp1c3Qtd2lkdGhfYWN0aXZlJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChhY3RpdmVJdGVtLmxlbmd0aCkge1xuXHRcdFx0XHRhY3RpdmVJdGVtLnJlbW92ZUNsYXNzKCdzbGlkZS01LW1lbnVfX2xpbmtfYWN0aXZlJyk7XG5cdFx0XHRcdGFjdGl2ZUl0ZW0ubmV4dCgpLnJlbW92ZUNsYXNzKCdhZGp1c3Qtd2lkdGhfYWN0aXZlJyk7XG5cdFx0XHR9XG5cdFx0XHQkdGhpcy5hZGRDbGFzcygnc2xpZGUtNS1tZW51X19saW5rX2FjdGl2ZScpO1xuXHRcdFx0JHRoaXMubmV4dCgpLmFkZENsYXNzKCdhZGp1c3Qtd2lkdGhfYWN0aXZlJyk7XG5cblx0XHR9XG5cdH0pO1xufSkiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblx0dmFyIHBlb3BsZSA9ICQoXCIucGVyc29uX19uYW1lXCIpO1x0ICAgIFxuXG4gICAgcGVvcGxlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFx0dmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICBcdFx0cGVyc29uID0gJChcIi5wZXJzb25fX25hbWUucGVyc29uX19uYW1lX2NvbGxhcHNlXCIpO1xuICAgIFx0aWYgKCR0aGlzLmhhc0NsYXNzKFwicGVyc29uX19uYW1lX2NvbGxhcHNlXCIpKSB7XG5cdFx0XHQkdGhpcy5yZW1vdmVDbGFzcygncGVyc29uX19uYW1lX2NvbGxhcHNlJyk7XG5cdFx0XHQkdGhpcy5uZXh0KCkuc2xpZGVVcCgnc2xvdycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkdGhpcy5maW5kKFwiLnRyaWFuZ2VsXCIpLnJlbW92ZUNsYXNzKCd0cmlhbmdlbF9jb2xsYXBzZScpO1xuXHRcdFx0fSk7XG4gICAgXHR9IGVsc2Uge1xuICAgIFx0XHRwZXJzb24ucmVtb3ZlQ2xhc3MoJ3BlcnNvbl9fbmFtZV9jb2xsYXBzZScpO1xuXHRcdFx0cGVyc29uLm5leHQoKS5zbGlkZVVwKCdzbG93JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHBlcnNvbi5maW5kKFwiLnRyaWFuZ2VsXCIpLnJlbW92ZUNsYXNzKCd0cmlhbmdlbF9jb2xsYXBzZScpO1xuXHRcdFx0fSk7XG5cdFx0XHQkdGhpcy5hZGRDbGFzcygncGVyc29uX19uYW1lX2NvbGxhcHNlJyk7XG4gICAgXHRcdCR0aGlzLm5leHQoKS5zbGlkZURvd24oJ3Nsb3cnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0JHRoaXMuZmluZChcIi50cmlhbmdlbFwiKS5hZGRDbGFzcygndHJpYW5nZWxfY29sbGFwc2UnKTtcblx0XHRcdH0pO1xuICAgIFx0fVxuICAgIH0pO1xufSk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0dmFyIGJ0bnMgPSAkKFwiLnNsaWRlLTYtcGVvcGxlX19idG5cIiksXG5cdFx0YmcgPSAkKFwiLm1vZGFsLWJnXCIpLFxuXHRcdG1vZGFsU2w1ID0gJChcIi5tb2RhbC1wZXJzb25cIiksXG5cdFx0Y2xvc2VTbDUgPSAkKFwiLm1vZGFsLXBlcnNvbl9fcmlnaHRcIiksXG5cdFx0b3JkZXJCdG4gPSAkKCcuc2xpZGUtN19fbWFrZS1vcmRlcicpLFxuXHRcdG1vZGFsU2w3ID0gJCgnLm1vZGFsLW9yZGVyJyksXG4gICAgICAgIGNsb3NlU2w3ID0gJChcIi5tb2RlbC1vcmRlcl9fY2xvc2VcIiksXG5cdFx0Y2hhbmdlRGlzcGxheSA9IGZ1bmN0aW9uKGRpc3AsIG1vZGFsKSB7XG5cdFx0XHRiZy5jc3Moe1xuXHRcdFx0XHRkaXNwbGF5OiBkaXNwXG5cdFx0XHR9KTtcblx0XHRcdG1vZGFsLmNzcyh7XG5cdFx0XHRcdGRpc3BsYXk6IGRpc3Bcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0YnRucy5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y2hhbmdlRGlzcGxheSgnYmxvY2snLCBtb2RhbFNsNSk7XG5cdH0pO1xuXG5cdGJnLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRjaGFuZ2VEaXNwbGF5KCdub25lJywgbW9kYWxTbDUpO1xuXHR9KTtcblxuXHRjbG9zZVNsNS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y2hhbmdlRGlzcGxheSgnbm9uZScsIG1vZGFsU2w1KTtcblx0fSk7XG5cbiAgICBjbG9zZVNsNy5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjaGFuZ2VEaXNwbGF5KCdub25lJywgbW9kYWxTbDcpO1xuICAgIH0pO1xuXG4gICAgb3JkZXJCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIFx0dmFyIG5hbWUgPSAkKCdpbnB1dFtuYW1lPXVzZXJuYW1lXScpLnZhbCgpLFxuICAgIFx0XHRwaG9uZSA9ICQoJ2lucHV0W25hbWU9dXNlcnBob25lXScpLnZhbCgpO1xuXHRcdCQuYWpheCh7XG5cdFx0XHR1cmw6IFwicGhwL29yZGVyLnBocFwiLFxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgcGhvbmU6IHBob25lXG5cdFx0XHR9LFxuXHRcdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIHRleHRTdGF0dXMsIGpxWEhSKSB7XG5cdFx0XHQgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEaXNwbGF5KCdibG9jaycsIG1vZGFsU2w3KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnZm9ybVtuYW1lPXNsaWRlLTctZm9ybS1tYWtlLW9yZGVyXScpWzBdLnJlc2V0KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5uYW1lICYmICFkYXRhLnBob25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0LLQtdC00LjRgtC1INC40LzRjyDQuCDQvdC+0LzQtdGAINGC0LXQu9C10YTQvtC90LBcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5uYW1lICYmICFkYXRhLnBob25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0LLQtdC00LjRgtC1INC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEubmFtZSAmJiBkYXRhLnBob25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcItCS0LLQtdC00LjRgtC1INC40LzRj1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bil7XG5cdFx0XHRcdGFsZXJ0KFwiRVJST1JcIik7XG5cdFx0XHR9XG5cdFx0fSlcbiAgICB9KVxufSk7IiwialF1ZXJ5KGZ1bmN0aW9uKCl7XG4gICAkKFwiLmZvcm1fX3Bob25lLWlucHV0XCIpLm1hc2soXCIrNyAoOTk5KSA5OTkgOTkgOTlcIik7XG59KTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXHR2YXIgc3RlcCA9IDEwMCwgZHVyYXRpb24gPSAxNTAwLFxuXHRcdHNsaWRlcyA9ICQoXCIuc2xpZGVcIiksXG5cdFx0YXNpZGVMaW5rcyA9ICQoXCIudG90YWwtbmF2X19saW5rXCIpLFxuXHRcdHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndyYXBwZXJcIiksXG5cdFx0YXJyb3dEb3duID0gJChcIi5zY3JvbGwtZG93blwiKSxcblx0XHRuYXZMaW5rcyA9ICQoXCIubmF2aWdhdGlvbl9fbGlua1wiKSxcblx0XHRvcmRlckJ1cmdlciA9ICQoXCIuYnVyZ2VyX19tYWtlLW9yZGVyXCIpLFxuXHRcdGZsYWcgPSB0cnVlLFxuXHRcdGhhc2hWYWx1ZXMgPSB7c2xpZGUwOiAwLCBzbGlkZTE6IDEsIHNsaWRlMjogMiwgc2xpZGUzOiAzLCBzbGlkZTQ6IDQsIHNsaWRlNTogNSwgc2xpZGU2OiA2LCBzbGlkZTc6IDd9LFxuXHRcdGNoYW5nZUNzcyA9IGZ1bmN0aW9uKGFjdGl2ZVNsaWRlLCBuZXdBY3RpdmUsIGFjdGl2ZVNsaWRlSW5kZXgsIG5ld0lkeCl7XG5cdFx0XHR2YXIgYWNjb3JkZW9uVmVydCA9ICQoXCIucGVyc29uX19uYW1lXCIpLFxuXHRcdFx0XHRhY2NvcmRlb25Ib3IgPSAkKFwiLnNsaWRlLTUtbWVudV9fbGlua1wiKSxcblx0XHRcdFx0YXNpZGVMaW5rQWN0aXZlID0gJChcIi50b3RhbC1uYXZfX2xpbmtfb3BlbmVkXCIpLFxuXHRcdFx0XHR0b3BQb3NpdGlvbiA9IG5ld0lkeCAqIHN0ZXA7XG5cdFx0XHRhY3RpdmVTbGlkZS5yZW1vdmVDbGFzcygnc2xpZGVfYWN0aXZlJyk7XG5cdFx0XHRuZXdBY3RpdmUuYWRkQ2xhc3MoJ3NsaWRlX2FjdGl2ZScpO1xuXHRcdFx0c2xpZGVzLmNzcyh7XG5cdFx0XHRcdHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLCAnICsgKHRvcFBvc2l0aW9uID09PSAwID8gdG9wUG9zaXRpb24gOiAnLScgKyB0b3BQb3NpdGlvbisnJScpICsgJyknXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuIFx0XHRcdFx0ZmxhZyA9IHRydWU7XG5cdFx0XHRcdGFzaWRlTGlua0FjdGl2ZS5yZW1vdmVDbGFzcygndG90YWwtbmF2X19saW5rX29wZW5lZCcpO1xuXHRcdFx0XHRhc2lkZUxpbmtzLmVxKG5ld0lkeCkuYWRkQ2xhc3MoJ3RvdGFsLW5hdl9fbGlua19vcGVuZWQnKTtcbiBcdFx0XHR9LCBkdXJhdGlvbik7XG5cblx0XHRcdGFjY29yZGVvblZlcnQucmVtb3ZlQ2xhc3MoJ3BlcnNvbl9fbmFtZV9jb2xsYXBzZScpO1xuXHRcdFx0YWNjb3JkZW9uVmVydC5maW5kKFwiLnRyaWFuZ2VsXCIpLnJlbW92ZUNsYXNzKCd0cmlhbmdlbF9jb2xsYXBzZScpO1xuXHRcdFx0YWNjb3JkZW9uVmVydC5uZXh0KCkuc2xpZGVVcCgpO1xuXHRcdFx0YWNjb3JkZW9uSG9yLnJlbW92ZUNsYXNzKCdzbGlkZS01LW1lbnVfX2xpbmtfYWN0aXZlJyk7XG5cdFx0XHRhY2NvcmRlb25Ib3IubmV4dCgpLnJlbW92ZUNsYXNzKCdhZGp1c3Qtd2lkdGhfYWN0aXZlJyk7XG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcjc2xpZGUnICsgbmV3SWR4O1xuXHRcdH0sXG4gICAgICAgIGhhc2hDaGFuZ2UgPSBmdW5jdGlvbihlKXtcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2gsXG5cdFx0XHRcdHNsaWRlSW5kZXggPSBoYXNoVmFsdWVzW2hhc2guc2xpY2UoMSldLFxuXHRcdFx0XHRhY3RpdmVTbGlkZSA9ICQoXCIuc2xpZGVfYWN0aXZlXCIpLFxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlSW5kZXggPSBzbGlkZXMuaW5kZXgoYWN0aXZlU2xpZGUpLFxuICAgICAgICAgICAgICAgIG5ld0FjdGl2ZSA9IHNsaWRlcy5lcShzbGlkZUluZGV4KTtcblx0XHRcdGlmIChzbGlkZUluZGV4ID49IDApIHtcblx0XHRcdFx0Y2hhbmdlQ3NzKGFjdGl2ZVNsaWRlLCBuZXdBY3RpdmUsIGFjdGl2ZVNsaWRlSW5kZXgsIHNsaWRlSW5kZXgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0d2hlZWxQcm9jZXNzID0gZnVuY3Rpb24oZSl7XG5cdFx0XHRpZiAoZmxhZyAmJiBlLnRhcmdldC5jbGFzc05hbWUgIT0gJ3NsaWRlLTUtbWVudV9fY29udGVudCcgJiYgZS50YXJnZXQuY2xhc3NOYW1lICE9IFwic2xpZGUtNi1wZW9wbGVfX2Rlc2NyXCIpIHtcblx0XHRcdFx0ZmxhZyA9IGZhbHNlO1xuXHRcdFx0XHR2YXIgZGVsdGFZID0gZS5kZWx0YVksXG5cdFx0XHRcdFx0YWN0aXZlU2xpZGUgPSAkKFwiLnNsaWRlX2FjdGl2ZVwiKSxcblx0XHRcdFx0XHRhY3RpdmVTbGlkZUluZGV4ID0gc2xpZGVzLmluZGV4KGFjdGl2ZVNsaWRlKTtcblx0XHRcdFx0aWYgKGRlbHRhWSA+IDAgJiYgYWN0aXZlU2xpZGVJbmRleCA8IHNsaWRlcy5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdFx0dmFyIG5ld0lkeCA9IGFjdGl2ZVNsaWRlSW5kZXggKyAxO1xuXHRcdFx0XHRcdGNoYW5nZUNzcyhhY3RpdmVTbGlkZSwgYWN0aXZlU2xpZGUubmV4dCgpLCBhY3RpdmVTbGlkZUluZGV4LCBuZXdJZHgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGRlbHRhWSA8IDAgJiYgYWN0aXZlU2xpZGVJbmRleCA+IDApIHtcblx0XHRcdFx0XHR2YXIgbmV3SWR4ID0gYWN0aXZlU2xpZGVJbmRleCAtIDE7XG5cdFx0XHRcdFx0Y2hhbmdlQ3NzKGFjdGl2ZVNsaWRlLCBhY3RpdmVTbGlkZS5wcmV2KCksIGFjdGl2ZVNsaWRlSW5kZXgsIG5ld0lkeCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZmxhZyA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXG5cdGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuXHRcdGhhc2hDaGFuZ2UoKTtcblx0fVxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgaGFzaENoYW5nZSk7XG5cdHdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHdoZWVsUHJvY2Vzcyk7XG5cdGFzaWRlTGlua3Mub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciAkdGhpcyA9ICQodGhpcyk7XG5cdFx0aWYgKCEkdGhpcy5oYXNDbGFzcygndG90YWwtbmF2X19saW5rX29wZW5lZCcpICYmIGZsYWcpIHtcblx0XHRcdGZsYWcgPSBmYWxzZTtcblx0XHRcdHZhciBhY3RpdmVTbGlkZSA9ICQoXCIuc2xpZGVfYWN0aXZlXCIpLFxuXHRcdFx0XHRhY3RpdmVTbGlkZUluZGV4ID0gc2xpZGVzLmluZGV4KGFjdGl2ZVNsaWRlKSxcblx0XHRcdFx0bmV3QWN0aXZlSWR4ID0gYXNpZGVMaW5rcy5pbmRleCgkdGhpcyksXG5cdFx0XHRcdG5ld0FjdGl2ZSA9IHNsaWRlcy5lcShuZXdBY3RpdmVJZHgpO1xuXHRcdFx0Y2hhbmdlQ3NzKGFjdGl2ZVNsaWRlLCBuZXdBY3RpdmUsIGFjdGl2ZVNsaWRlSW5kZXgsIG5ld0FjdGl2ZUlkeCk7XG5cdFx0fVxuXHR9KTtcblx0YXJyb3dEb3duLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRpZiAoZmxhZyl7XG5cdFx0XHRmbGFnID0gZmFsc2U7XG5cdFx0XHR2YXIgYWN0aXZlU2xpZGUgPSAkKFwiLnNsaWRlX2FjdGl2ZVwiKSxcblx0XHRcdFx0YWN0aXZlU2xpZGVJbmRleCA9IHNsaWRlcy5pbmRleChhY3RpdmVTbGlkZSksXG5cdFx0XHRcdG5ld0FjdGl2ZSA9IGFjdGl2ZVNsaWRlLm5leHQoKSxcblx0XHRcdFx0bmV3QWN0aXZlSWR4ID0gc2xpZGVzLmluZGV4KG5ld0FjdGl2ZSk7XG5cdFx0XHRjaGFuZ2VDc3MoYWN0aXZlU2xpZGUsIG5ld0FjdGl2ZSwgYWN0aXZlU2xpZGVJbmRleCwgbmV3QWN0aXZlSWR4KTtcblx0XHR9XG5cdH0pO1xuXHRuYXZMaW5rcy5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIGl0ZW0gPSBldmVudC50YXJnZXQuY2xhc3NMaXN0Lml0ZW0oMSksXG5cdFx0ICAgIGl0ZW1JZHggPSBpdGVtLnNwbGl0KCdfX2xpbmtfJylbMV0sXG5cdFx0ICAgIGFjdGl2ZVNsaWRlID0gJChcIi5zbGlkZV9hY3RpdmVcIiksXG5cdFx0XHRhY3RpdmVTbGlkZUluZGV4ID0gc2xpZGVzLmluZGV4KGFjdGl2ZVNsaWRlKSxcblx0XHRcdG5ld0FjdGl2ZSA9IHNsaWRlcy5lcShpdGVtSWR4KTtcbiAgICBcdGNoYW5nZUNzcyhhY3RpdmVTbGlkZSwgbmV3QWN0aXZlLCBhY3RpdmVTbGlkZUluZGV4LCBpdGVtSWR4KTtcblx0fSk7XG5cdG9yZGVyQnVyZ2VyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgaXRlbUlkeCA9IDYsXG5cdFx0ICAgIGFjdGl2ZVNsaWRlID0gJChcIi5zbGlkZV9hY3RpdmVcIiksXG5cdFx0XHRhY3RpdmVTbGlkZUluZGV4ID0gc2xpZGVzLmluZGV4KGFjdGl2ZVNsaWRlKSxcblx0XHRcdG5ld0FjdGl2ZSA9IHNsaWRlcy5lcShpdGVtSWR4KTtcblx0XHRjaGFuZ2VDc3MoYWN0aXZlU2xpZGUsIG5ld0FjdGl2ZSwgYWN0aXZlU2xpZGVJbmRleCwgaXRlbUlkeCk7XG5cdH0pO1xufSkiLCJqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHR2YXIgYXJyb3dSaWdodCA9ICQoJy5zbGlkZS0zX19hcnJvdy1yaWdodCcpLFxuXHRcdGFycm93TGVmdCA9ICQoJy5zbGlkZS0zX19hcnJvdy1sZWZ0JyksXG5cdFx0c3RlcCA9IDk0MCxcblx0XHRydW4gPSB0cnVlLFxuXHRcdGRlbGF5ID0gMTAwMCxcblx0XHRuZXh0RXhpc3QgPSBmdW5jdGlvbihwYWdlLCBhY3RpdmVQYWdlLCBhbGxQYWdlcywgZXhwcmVzc2lvbil7XG5cdFx0XHRwYWdlLmFkZENsYXNzKCdwYWdlX2FjdGl2ZScpO1xuICAgICAgICBcdGFjdGl2ZVBhZ2UucmVtb3ZlQ2xhc3MoJ3BhZ2VfYWN0aXZlJyk7XG5cdCAgICAgICAgYWxsUGFnZXMuYW5pbWF0ZSh7XG5cdCAgICAgICAgXHRyaWdodDogZXhwcmVzc2lvblxuXHQgICAgICAgIH0sIGRlbGF5LFxuXHQgICAgICAgIGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgXHRydW4gPSB0cnVlO1xuXHQgICAgICAgIH0pO1xuXHRcdH0sXG5cdFx0bmV4dE5vdEV4aXN0ID0gZnVuY3Rpb24ocGFnZSwgYWN0aXZlUGFnZSwgYWxsUGFnZXMsIGV4cHJlc3Npb24pIHtcblx0XHRcdHBhZ2UuYWRkQ2xhc3MoJ3BhZ2VfYWN0aXZlJyk7XG4gICAgICAgIFx0YWN0aXZlUGFnZS5yZW1vdmVDbGFzcygncGFnZV9hY3RpdmUnKTtcblx0ICAgICAgICBhbGxQYWdlcy5hbmltYXRlKHtcblx0ICAgICAgICBcdHJpZ2h0OiBleHByZXNzaW9uXG5cdCAgICAgICAgfSwgZGVsYXksXG5cdCAgICAgICAgZnVuY3Rpb24oKXtcblx0ICAgICAgICBcdHJ1biA9IHRydWU7XG5cdCAgICAgICAgfSk7XG5cdFx0fTtcblxuXHRhcnJvd1JpZ2h0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxuXHQgICAgICAgIGNvbnRhaW5lciA9ICR0aGlzLmNsb3Nlc3QoJy5jb250YWluZXInKS5maW5kKCcuY29udGFpbmVyLXNsaWRlLTMnKSxcblx0ICAgICAgICBhY3RpdmVQYWdlID0gY29udGFpbmVyLmZpbmQoJy5wYWdlX2FjdGl2ZScpLFxuXHQgICAgICAgIGFsbFBhZ2VzID0gY29udGFpbmVyLmZpbmQoJy5wYWdlJyksXG5cdCAgICAgICAgbmV4dFBhZ2UgPSBhY3RpdmVQYWdlLm5leHQoKSxcblx0ICAgICAgICBjdXJyZW50UmlnaHQgPSBwYXJzZUludChhY3RpdmVQYWdlLmNzcyhcInJpZ2h0XCIpKTtcblx0XHRpZiAoIXJ1bikgcmV0dXJuXG5cdFx0cnVuID0gZmFsc2U7XG5cdFx0aWYgKG5leHRQYWdlLmxlbmd0aCkge1xuXHQgICAgICAgIG5leHRFeGlzdChuZXh0UGFnZSwgYWN0aXZlUGFnZSwgYWxsUGFnZXMsIGN1cnJlbnRSaWdodCArIHN0ZXAgKyAncHgnKTtcbiAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0Tm90RXhpc3QoYWxsUGFnZXMuZmlyc3QoKSwgYWN0aXZlUGFnZSwgYWxsUGFnZXMsICcwJyk7XG4gICAgICAgIH1cblx0fSk7XG5cblx0YXJyb3dMZWZ0Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxuXHQgICAgICAgIGNvbnRhaW5lciA9ICR0aGlzLmNsb3Nlc3QoJy5jb250YWluZXInKS5maW5kKCcuY29udGFpbmVyLXNsaWRlLTMnKSxcblx0ICAgICAgICBhY3RpdmVQYWdlID0gY29udGFpbmVyLmZpbmQoJy5wYWdlX2FjdGl2ZScpLFxuXHQgICAgICAgIGFsbFBhZ2VzID0gY29udGFpbmVyLmZpbmQoJy5wYWdlJyksXG5cdCAgICAgICAgcHJldlBhZ2UgPSBhY3RpdmVQYWdlLnByZXYoKSxcblx0ICAgICAgICBjdXJyZW50UmlnaHQgPSBwYXJzZUludChhY3RpdmVQYWdlLmNzcyhcInJpZ2h0XCIpKTtcblx0XHRpZiAoIXJ1bikgcmV0dXJuXG5cdFx0cnVuID0gZmFsc2U7XG5cdFx0aWYgKHByZXZQYWdlLmxlbmd0aCkge1xuXHQgICAgICAgIG5leHRFeGlzdChwcmV2UGFnZSwgYWN0aXZlUGFnZSwgYWxsUGFnZXMsIGN1cnJlbnRSaWdodCAtIHN0ZXAgKyAncHgnKTtcbiAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0Tm90RXhpc3QoYWxsUGFnZXMubGFzdCgpLCBhY3RpdmVQYWdlLCBhbGxQYWdlcywgYWxsUGFnZXMubGFzdCgpLmluZGV4KCkgKiBzdGVwKTtcbiAgICAgICAgfVxuXHR9KTtcbn0pOyJdfQ==
